<?xml version="1.0" encoding="utf-8"?>

<!-- NOTE: This is *not* an official Realtek-supplied SVD -->

<device schemaVersion="1.1" xmlns:xs="http://www.w3.org/2001/XMLSchema-instance" >
  <vendor>Realtek Semiconductor</vendor>
  <vendorID>RTL</vendorID>
  <name>RTL8710</name>
  <series>Ameba</series>
  <version>0.1</version>
  <description>Realtek RTL8710 Cortex-M3-based WiFi Module</description>
  <licenseText>
    Copyright (c) 2019 David Goodlad

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.
  </licenseText>

  <cpu>
    <name>CM3</name>
    <revision>r0p0</revision>
    <endian>little</endian>
    <mpuPresent>true</mpuPresent>
    <fpuPresent>false</fpuPresent>
    <nvicPrioBits>4</nvicPrioBits>
    <vendorSystickConfig>true</vendorSystickConfig>
  </cpu>

  <!-- TODO -->
  <addressUnitBits>8</addressUnitBits>     <!-- byte addressable memory -->
  <width>32</width>                        <!-- bus width is 32 bits -->

  <!-- default settings implicitly inherited by subsequent sections -->
  <size>32</size>
  <access>read-write</access>
  <resetValue>0x00000000</resetValue>
  <resetMask>0xFFFFFFFF</resetMask>

  <peripherals>
    <peripheral>
      <name>GPIO</name>
      <description>General Purpose I/O</description>
      <groupName>GPIO</groupName>
      <baseAddress>0x40001000</baseAddress>
      <access>read-write</access>
      <registers>
        <register>
          <name>GPIOA_DR</name>
          <description>GPIOA Data Register</description>
          <addressOffset>0x0</addressOffset>
          <fields>
            <field>
              <name>A0</name>
              <description>GPIO pin A0 data</description>
              <bitOffset>0</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>A1</name>
              <description>Pin A1</description>
              <bitOffset>1</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>B3</name>
              <description>Pin B3</description>
              <bitOffset>2</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>B4</name>
              <description>Pin B4</description>
              <bitOffset>3</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>C1</name>
              <description>Pin C1</description>
              <bitOffset>6</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>C3</name>
              <description>Pin C3</description>
              <bitOffset>7</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>C4</name>
              <description>Pin C4</description>
              <bitOffset>8</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>E1</name>
              <description>Pin E1</description>
              <bitOffset>21</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>E2</name>
              <description>Pin E2</description>
              <bitOffset>22</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>E3</name>
              <description>Pin E3</description>
              <bitOffset>23</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
          </fields>
        </register>
        <register>
          <name>GPIOA_DDR</name>
          <description>GPIOA Data Direction Register</description>
          <addressOffset>0x4</addressOffset>
          <fields>
            <field>
              <name>A0</name>
              <description>GPIO pin A0 data direction</description>
              <bitOffset>0</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>A1</name>
              <description>Pin A1</description>
              <bitOffset>1</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>B3</name>
              <description>Pin B3</description>
              <bitOffset>2</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>B4</name>
              <description>Pin B4</description>
              <bitOffset>3</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>C1</name>
              <description>Pin C1</description>
              <bitOffset>6</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>C3</name>
              <description>Pin C3</description>
              <bitOffset>7</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>C4</name>
              <description>Pin C4</description>
              <bitOffset>8</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>E1</name>
              <description>Pin E1</description>
              <bitOffset>21</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>E2</name>
              <description>Pin E2</description>
              <bitOffset>22</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>E3</name>
              <description>Pin E3</description>
              <bitOffset>23</bitOffset>
              <bitWidth>1</bitWidth>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            <field>
              <name>GPIOA_GC4_DDR</name>
              <description>GPIOA GC4 Direction</description>
              <bitOffset>8</bitOffset>
              <bitWidth>1</bitWidth>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>input</name>
                  <description>Configure pin as an INPUT</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>output</name>
                  <description>Configure pin as an OUTPUT</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
          </fields>
        </register>
        <register>
          <name>GPIOA_CTRL</name>
          <description>GPIOA Control Register</description>
          <addressOffset>0x8</addressOffset>
          <fields>
            <field>
              <name>A0</name>
              <description>GPIO pin A0 control</description>
              <bitOffset>0</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>A1</name>
              <description>Pin A1</description>
              <bitOffset>1</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>B3</name>
              <description>Pin B3</description>
              <bitOffset>2</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>B4</name>
              <description>Pin B4</description>
              <bitOffset>3</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>C1</name>
              <description>Pin C1</description>
              <bitOffset>6</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>C3</name>
              <description>Pin C3</description>
              <bitOffset>7</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>C4</name>
              <description>Pin C4</description>
              <bitOffset>8</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>E1</name>
              <description>Pin E1</description>
              <bitOffset>21</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>E2</name>
              <description>Pin E2</description>
              <bitOffset>22</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
            <field>
              <name>E3</name>
              <description>Pin E3</description>
              <bitOffset>23</bitOffset>
              <bitWidth>1</bitWidth>
            </field>
          </fields>
        </register>

        <register>
          <name>INT_EN</name>
          <description>Interrupt Enable</description>
          <addressOffset>0x30</addressOffset>
        </register>
        <register>
          <name>INT_MASK</name>
          <description>Interrupt Mask</description>
          <addressOffset>0x34</addressOffset>
        </register>
        <register>
          <name>INT_TYPE</name>
          <description>Interrupt Type (level/edge)</description>
          <addressOffset>0x38</addressOffset>
        </register>
        <register>
          <name>INT_POLARITY</name>
          <description>Interrupt Polarity (low/high)</description>
          <addressOffset>0x3c</addressOffset>
        </register>
        <register>
          <name>INT_STATUS</name>
          <description>Interrupt Status</description>
          <addressOffset>0x40</addressOffset>
        </register>
        <register>
          <name>INT_RAW_STATUS</name>
          <description>Interrupt Status Without Mask</description>
          <addressOffset>0x44</addressOffset>
        </register>
        <register>
          <name>INT_DEBOUNCE</name>
          <description>Interrupt Debounce</description>
          <addressOffset>0x48</addressOffset>
        </register>
        <register>
          <name>INT_CLEAR</name>
          <description>Interrupt Clear</description>
          <addressOffset>0x4c</addressOffset>
        </register>
        <register>
          <name>INT_SYNC</name>
          <!-- TODO this is a mediocre description, copy/pasted from RTL header -->
          <description>Is level-sensitive interrupt being sync with PCLK</description>
          <addressOffset>0x60</addressOffset>
        </register>

        <register>
          <name>EXT</name>
          <!-- TODO this is a mediocre description, copy/pasted from RTL header -->
          <description>GPIO IN read or OUT read back</description>
          <addressOffset>0x50</addressOffset>
        </register>
      </registers>
    </peripheral>

    <peripheral>
      <name>GPIOB</name>
      <baseAddress>0x40001000</baseAddress>

      <registers>
        <register>
          <name>DR</name>
          <description>Data Register</description>
          <addressOffset>0x0c</addressOffset>
        </register>
        <register>
          <name>DDR</name>
          <description>Data Direction Register</description>
          <addressOffset>0x10</addressOffset>
        </register>
        <register>
          <name>CTRL</name>
          <description>Control</description>
          <addressOffset>0x14</addressOffset>
        </register>
        <register>
          <name>EXT</name>
          <!-- TODO this is a mediocre description, copy/pasted from RTL header -->
          <description>GPIO IN read or OUT read back</description>
          <addressOffset>0x54</addressOffset>
        </register>
      </registers>
    </peripheral>

    <peripheral>
      <name>GPIOC</name>
      <baseAddress>0x40001000</baseAddress>

      <registers>
        <register>
          <name>DR</name>
          <description>Data Register</description>
          <addressOffset>0x18</addressOffset>
        </register>
        <register>
          <name>DDR</name>
          <description>Data Direction Register</description>
          <addressOffset>0x1c</addressOffset>
        </register>
        <register>
          <name>CTRL</name>
          <description>Control</description>
          <addressOffset>0x20</addressOffset>
        </register>
        <register>
          <name>EXT</name>
          <!-- TODO this is a mediocre description, copy/pasted from RTL header -->
          <description>GPIO IN read or OUT read back</description>
          <addressOffset>0x58</addressOffset>
        </register>
      </registers>
    </peripheral>
  </peripherals>
</device>
